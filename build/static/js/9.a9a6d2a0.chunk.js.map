{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/components/keyboard/index.js","pages/InstitutionDetailPage.js","pages/DashboardPage.js","components/pages.module.scss"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","explode","size","reduce","acc","e","i","length","push","Keyboard","setFunc","left","right","alfabe","nums","fill","map","_","concat","className","cn","data","rowIndex","character","id","type","onClick","num","target","useEventListener","eventName","handler","element","window","savedHandler","useRef","useEffect","current","addEventListener","eventListener","event","removeEventListener","InstitutionDetailPage","card","match","categories","useSelector","categoriesSelector","console","log","QueryResultSelector","loading","queryResult","hasErrors","redirect","reRequest","profile","profileSelector","useState","additionalField","setAdditionalFields","partialAmount","setPartialAmount","cardDeviceId","hasOwnProperty","errors","result","reseller","card_devices","institution_categories","item","institutions","flat","find","inst","params","shortcuts","history","useHistory","dispatch","useDispatch","useLayoutEffect","setQueryResult","Modal","warning","icon","title","content","okText","error","items","setFormData","obj","toString","parseInt","additional_field","is_continue","fetchQueryResult","setTimeout","bind","categoryType","institution","category_type","inputs","useMemo","activeInputIndex","setActiveInput","formData","setForm","alphanumeric","some","prepaidCardInputs","label","max","min","name","activeInput","key","getInputs","document","getElementsByTagName","focus","useCallback","char","undefined","keys","slice","values","CardEffect","text1","pos_device_status","span","src","logo","description","section","form","preventDefault","elements","getElementById","value","makeQuery","position","BlankPage","message","DashboardPage","props","networkStatus","style","dashboardPage","module","exports"],"mappings":"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","file":"static/js/9.a9a6d2a0.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import cn from \"classnames\";\r\nimport \"./keyboard.css\";\r\nconst explode = (arr, size) =>\r\n  arr.reduce(\r\n    (acc, e, i) => (\r\n      i % size ? acc[acc.length - 1].push(e) : acc.push([e]), acc\r\n    ),\r\n    []\r\n  );\r\n\r\nfunction Keyboard({ setFunc, left = true, right = true }) {\r\n  const alfabe = explode([...\"ABCDEFGHIJKLMNOPRSTUVYZ\"], 8);\r\n  const nums = explode(\r\n    Array(9)\r\n      .fill()\r\n      .map((_, i) => i + 1)\r\n      .concat(0, \"C\"),\r\n    3\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className={cn(\"keyboard\", !left && \"disabled\")}>\r\n        {alfabe.map((data, rowIndex) => (\r\n          <div key={rowIndex} className=\"keyboard-row\">\r\n            {data.map((character) => (\r\n              <button\r\n                key={character}\r\n                id={\"character\" + character}\r\n                type=\"button\"\r\n                className={cn(\"keyboard-button\", character)}\r\n                onClick={() => setFunc(character)}\r\n              >\r\n                {character}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className={cn(\"keyboard\", \"nums\", !right && \"disabled\")}>\r\n        {nums.map((data, rowIndex) => (\r\n          <div key={rowIndex} className=\"keyboard-row\">\r\n            {data.map((num) => (\r\n              <button\r\n                key={num}\r\n                id={\"num\" + num}\r\n                type=\"button\"\r\n                className={cn(\"keyboard-button\", num)}\r\n                onClick={(e) => setFunc(e.target.id === \"numC\" ? \"reset\" : num)}\r\n              >\r\n                {num}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Keyboard;\r\n","import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useState,\n  useRef,\n} from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { categoriesSelector } from \"../slices/categories\";\nimport {\n  fetchQueryResult,\n  QueryResultSelector,\n  setQueryResult,\n} from \"../slices/institutionQuery\";\nimport { Col, Row, Modal } from \"antd\";\nimport {\n  Container,\n  Logo,\n  InstitutionContent,\n  Title,\n  AlphanumericContainer,\n  Article,\n  Button,\n  InstitutionLogos,\n} from \"../components/components\";\nimport Footer from \"../components/components/footer\";\nimport InstitutionFormBuild from \"../components/components/institutionForm\";\nimport NumPad from \"../components/components/numpad\";\nimport Keyboard from \"../components/components/keyboard\";\nimport Loading from \"../components/components/loading\";\nimport {profileSelector} from \"../slices/me\";\nimport BlankPage from \"./BlankPage\";\nimport CardEffect from \"../components/components/CardEffect\";\n\n\nexport function useEventListener(eventName, handler, element = window) {\n  const savedHandler = useRef();\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const isSupported = element && element.addEventListener;\n    if (!isSupported) return;\n\n    const eventListener = (event) => savedHandler.current(event);\n    element.addEventListener(eventName, eventListener);\n\n    return () => {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n}\n\nconst InstitutionDetailPage = ({ card, match }) => {\n  const { categories } = useSelector(categoriesSelector);\n  console.log('data: ', { card });\n  const { loading, queryResult, hasErrors, redirect, reRequest } = useSelector(\n      QueryResultSelector\n  );\n  const {profile} = useSelector(profileSelector);\n  const [additionalField, setAdditionalFields] = useState(\"\");\n  const [partialAmount, setPartialAmount] = useState(\"\");\n\n  let cardDeviceId = 0 ;\n  if(profile.hasOwnProperty('result') && profile.errors ==\"\"){\n    if(profile.result.reseller.card_devices !== null){\n      cardDeviceId =profile.result.reseller.card_devices[0].id\n    }\n\n  }\n\n  let data = categories.result.institution_categories\n      .map((item) => item.institutions)\n      .flat()\n      .find((inst) => {\n        return inst.id == match.params.id;\n      });\n  data =\n      data ??\n      categories.result.shortcuts.find((i) => {\n        return i.id == match.params.id;\n      });\n  let history = useHistory();\n  const dispatch = useDispatch();\n\n  useLayoutEffect(() => {\n    dispatch(setQueryResult());\n    return () => {\n      dispatch(setQueryResult());\n    };\n  }, []);\n  useLayoutEffect(() => {\n    if(hasErrors){\n         Modal.warning({\n          className: \"kioksModal\",\n          icon: null,\n          title: \"HATA !\",\n          content: \"Lütfen doldurulması gereken alanları kontrol ediniz\",\n          okText: \"TAMAM\",\n        });\n    }\n  },[hasErrors])\n  useEffect(() => {\n    if (queryResult.hasOwnProperty(\"result\")) {\n      // fatura sonucuna göre gelen iç hatalar\n      if(queryResult.result[0].error !== \"\" && queryResult.result[0].items === null) {\n      setFormData(\"reset\")\n        return Modal.warning({\n          className: \"kioksModal\",\n          icon: null,\n          title: \"HATA !\",\n          content: queryResult.result[0].error ?? \"Fatura Bulunumadı !\",\n          okText: \"TAMAM\",\n        });\n      }\n      const obj = {};\n      obj[\"field1\"] = cardDeviceId.toString();\n      obj[\"institution_id\"] = parseInt(match.params.id);\n      if (\n          queryResult.result[0].additional_field !== \"\" &&\n          queryResult.result[0].is_continue\n      ) {\n        obj[\"field2\"] = queryResult.result[0].additional_field;\n        setAdditionalFields(queryResult.result[0].additional_field);\n        dispatch(fetchQueryResult(obj));\n      }\n      if (\n          reRequest &&\n          queryResult.result[0].error === \"\" &&\n          queryResult.result[0].is_continue\n      ) {\n        obj[\"field2\"] = additionalField;\n        if (partialAmount !==\"\"){\n          obj[\"field3\"] = partialAmount;\n          setTimeout(\n              function () {\n                dispatch(fetchQueryResult(obj));\n              }.bind(this),\n              1000\n          );\n        }\n\n      }\n    }\n  }, [reRequest, queryResult]);\n\n  function makeQuery(e) {\n    e.preventDefault();\n    const obj = {};\n    const elements = document.getElementById(\"QueryForm\").elements;\n    for (let i = 0; i < elements.length; i++) {\n      const item = elements.item(i);\n      if (elements.item(i).type === \"text\") obj[item.name] = item.value.toString();\n    }\n    obj[\"institution_id\"] = parseInt(match.params.id);\n    if (data.category_type === \"prepaid_card\") {\n      if (obj.hasOwnProperty(\"field3\")){\n        setPartialAmount(obj[\"field3\"])\n      }\n      obj[\"field1\"] = cardDeviceId.toString();\n    }\n    dispatch(fetchQueryResult(obj));\n  }\n\n  if (redirect) {\n    if (queryResult.hasOwnProperty(\"result\")) {\n      const categoryType = queryResult.result[0].institution.category_type;\n      if (categoryType === \"invoice\") history.push(\"/queryresult\");\n      if (categoryType === \"prepaid_card\")\n        history.push(\"/queryresultpartialpayment\");\n    }\n  }\n  const inputs = useMemo(\n      () => (Array.isArray(data?.inputs) ? data.inputs : []),\n      [data]\n  );\n\n  const prepaidCard = useMemo(() => {\n    if (data.category_type === \"prepaid_card\")\n      return card === \"card_on\" ? \"on\" : \"off\";\n    else return false;\n  }, [data, card]);\n\n\n  const [activeInputIndex, setActiveInput] = useState(1);\n  const [formData, setForm] = useState({});\n  const alphanumeric = inputs.some((i) => i.alphanumeric);\n  const prepaidCardInputs =[\n    {\n      label: \"Yüklemek İstediğiniz Tutar\",\n      max: 4,\n      min: 1,\n      name: \"field3\"\n    }\n  ];\n  const activeInput = inputs[activeInputIndex - 1] ?? prepaidCardInputs[activeInputIndex - 1];\n  useEffect(\n      () =>\n          setForm(\n              Array(Array.isArray(inputs) ? inputs.length : 0)\n                  .fill()\n                  .map((_, i) => i + 1)\n                  .reduce((obj, key) => ({ ...obj, [key]: \"\" }), {})\n          ),\n      [inputs]\n  );\n\n  useEventListener(\"click\", () => {\n    const getInputs = document.getElementsByTagName(\"input\");\n    if (getInputs.length) getInputs[activeInputIndex - 1]?.focus();\n  });\n\n  const setFormData = useCallback(\n      (char) => {\n        if (formData !== undefined && Object.keys(formData).length === 0){\n          formData[1] = \"\"\n        }\n        if (char === \"reset\") {\n          return setForm({\n            ...formData,\n            [activeInputIndex]: \"\",\n          });\n        }\n        if (char === \"del\") {\n         const nums = formData[activeInputIndex];\n          if (nums.length > 0) {\n            return setForm({\n              ...formData,\n              [activeInputIndex]: nums.slice(0, -1),\n            });\n          }\n          return nums\n        }\n        if (\n            formData[activeInputIndex] &&\n            formData[activeInputIndex]?.length >= activeInput?.max\n        )\n          return Modal.warning({\n            className: \"kioksModal\",\n            icon: null,\n            title: \"HATA !\",\n            content: \"Yeterince uzun, daha fazla karakter ekleyemezsiniz \",\n            okText: \"TAMAM\",\n          });\n\n        setForm({\n          ...formData,\n          [activeInputIndex]: formData[activeInputIndex] + char,\n        });\n      },\n      [formData, activeInput, activeInputIndex]\n  );\n  if (!data) return <BlankPage />;\n  if (!Object.values(data).length || loading && data.category_type !== \"prepaid_card\") {\n    return <Loading />;\n  };\n  if (loading && data.category_type === \"prepaid_card\" && reRequest) {\n    return <CardEffect text1={\"Sorgulanıyor...\"}/>\n  }\n  if(!(profile.result.reseller.pos_device_status )){\n   return <BlankPage title=\"Sistem Hatasi\" message=\"Pos cihazi şuan için devre dışı.Lütfen daha sonra tekrar deneyiniz.\"/>;\n  }\n  return (\n      <Container>\n        <Logo />\n        <InstitutionContent>\n          <Title institution>{data.name}</Title>\n          {(<>\n                {alphanumeric ? (\n                    <Row>\n                      <Col span={24}>\n                        <AlphanumericContainer>\n                          <InstitutionLogos src={data.logo} />\n                          <Article institution>{data.description}</Article>\n                          <InstitutionFormBuild\n                              type=\"big\"\n                              num={formData}\n                              inputs={inputs}\n                              activeInputIndex={activeInputIndex}\n                              setActiveInput={setActiveInput}\n                          />\n\n                          <Button section=\"query\">Sorgula</Button>\n                        </AlphanumericContainer>\n                      </Col>\n\n                      <Col span={24} className=\"alphanumeric\">\n                        <Keyboard\n                            setFunc={setFormData}\n                            left={!!inputs[activeInputIndex - 1].alphanumeric}\n                        />\n                      </Col>\n                    </Row>\n                ) : (\n                    <Row>\n                      <Col span={17}>\n                        <Article institution>{data.description}</Article>\n                        <InstitutionFormBuild\n                            num={formData}\n                            inputs={inputs !== null && inputs?.length > 0  ? inputs :prepaidCardInputs}\n                            activeInputIndex={activeInputIndex}\n                            setActiveInput={setActiveInput}\n                        />\n\n                        <Button\n                            section=\"query\"\n                            form=\"QueryForm\"\n                            onClick={(e) => makeQuery(e)}\n                        >\n                          Sorgula\n                        </Button>\n                      </Col>\n                      <Col span={7} className=\"numpad\">\n                        <InstitutionLogos src={data.logo} />\n                        <NumPad setFunc={setFormData} />\n                      </Col>\n                    </Row>\n                )}\n              </>\n          )}\n        </InstitutionContent>\n\n        <Footer>\n          <Button position=\"left\" onClick={() => history.push('/greeting')}>\n            Geri\n          </Button>\n        </Footer>\n      </Container>\n  );\n};\n\nexport default InstitutionDetailPage;\n","import React from 'react'\r\nimport style from \"../components/pages.module.scss\";\r\nimport { useEventListener } from './InstitutionDetailPage';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst DashboardPage = ({ history  ,...props}) => {\r\n\r\n  useEventListener(\"click\", () =>{\r\n      console.log({props})\r\n      if (!props.networkStatus) {\r\n          history.push('/unavailable')\r\n      }else{\r\n          history.push('/greeting')\r\n      }\r\n\r\n  } );\r\n\r\n\r\n  return (\r\n    <section id=\"reklamEkrani\" className={style.dashboardPage}>\r\n\r\n      <span>REKLAM EKRANI</span>\r\n\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default DashboardPage\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"prepaidCardPage\":\"pages_prepaidCardPage__1-iNg\",\"cardRead\":\"pages_cardRead__2eQ4D\",\"partialPaymentPageQueryResult\":\"pages_partialPaymentPageQueryResult__1nqS2\",\"selectedRow\":\"pages_selectedRow__1w2zQ\",\"dashboardPage\":\"pages_dashboardPage__2sT3Y\",\"card\":\"pages_card__z46uw\",\"top\":\"pages_top__3h9jw\",\"dots\":\"pages_dots__3vSBN\",\"content\":\"pages_content__2wVaf\",\"input_container\":\"pages_input_container__3eWrZ\",\"bottom_content\":\"pages_bottom_content__3psHr\",\"ripple\":\"pages_ripple__3YAQo\",\"rippling\":\"pages_rippling__3Vnnd\"};"],"sourceRoot":""}