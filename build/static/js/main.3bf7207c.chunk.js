(this.webpackJsonpfaturakomkiosk=this.webpackJsonpfaturakomkiosk||[]).push([[3],{16:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r,o=n(4),c=n(6),a=Object(c.b)("categories/getCaterigories",(function(){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/institution"),{}).then((function(e){if(!e.ok)throw Error(e.error);return e.json()})).then((function(e){return e}))})),i=Object(c.c)({name:"categories",initialState:{loading:!0,hasErrors:!1,categories:[]},reducers:{},extraReducers:(r={},Object(o.a)(r,a.pending,(function(e,t){e.loading=!0})),Object(o.a)(r,a.fulfilled,(function(e,t){e.categories=t.payload,console.log(t.payload),e.loading=!1,e.hasErrors=!1})),Object(o.a)(r,a.rejected,(function(e,t){console.log(t),console.log(t.payload),console.log(e),e.loading=!1,e.hasErrors=!0})),r)}),s=function(e){return e.categories};t.b=i.reducer},17:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r,o=n(4),c=n(6),a=Object(c.b)("me",(function(){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/me"),{}).then((function(e){if(!e.ok)throw Error(e.error);return e.json()})).then((function(e){return e}))})),i=Object(c.c)({name:"profile",initialState:{hasErrors:!1,profile:{}},extraReducers:(r={},Object(o.a)(r,a.fulfilled,(function(e,t){e.profile=t.payload,e.hasErrors=!1})),Object(o.a)(r,a.rejected,(function(e){e.hasErrors=!0})),r)}),s=function(e){return e.profile};t.a=i.reducer},23:function(e,t,n){},32:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return T})),n.d(t,"j",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return P})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return g}));var r,o=n(12),c=n.n(o),a=n(14),i=n(4),s=n(15),u=n(6),l=Object(u.b)("invoice/pos-transaction",(function(e){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/pos-transaction"),{method:"POST",body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw Error(e.error);return e.json()})).then((function(e){return e}))})),d=Object(u.c)({name:"basket",initialState:{selectedItemsStore:[],redirect:!1,selectedBkmId:0,selectedInstallationNumber:1,posTransactionLoading:!1,posTransactionResponse:{},posTransactionError:{},posTransactionStatusResponse:{}},reducers:{addItem:function(e,t){e.selectedItemsStore=t.payload.selectedItems,e.redirect=!0},setState:function(e,t){for(var n=0,r=Object.entries(t.payload);n<r.length;n++){var o=Object(s.a)(r[n],2),c=o[0],a=o[1];console.log("".concat(c,": ").concat(a)),e[c]=a}},makeEmpty:function(e){e.selectedItemsStore=[]},redirectStep:function(e){e.redirect=!1},setSelectedBkm:function(e,t){console.log("setSelectedBkm"),e.redirect=!0,e.selectedBkmId=t.payload.id},setInstallationNumber:function(e,t){console.log("setInstallationNumber"),e.redirect=!0,e.selectedInstallationNumber=t.payload.installationNumber},postTransactionStatusResponseAction:function(e,t){console.log("ACT\u0130ON ::::",t.payload),e.posTransactionStatusResponse=t.payload},setPostTransactionLoading:function(e,t){e.posTransactionLoading=t.payload.status},postTransactionStatusResponseErrorAction:function(e,t){e.posTransactionLoading=!1,e.posTransactionResponse={},e.posTransactionError=t.payload,e.posTransactionStatusResponse={}},prepaidCardTransactionStatusResponseAction:function(e,t){console.log("Card Transaction action PAyload",t.payload)},prepaidCardTransactionStatusResponseErrorAction:function(e,t){e.posTransactionLoading=!1,e.posTransactionResponse={},e.posTransactionError=t.payload,e.posTransactionStatusResponse={}}},extraReducers:(r={},Object(i.a)(r,l.pending,(function(e){e.posTransactionLoading=!0})),Object(i.a)(r,l.fulfilled,(function(e,t){e.posTransactionResponse=t.payload})),Object(i.a)(r,l.rejected,(function(e,t){e.posTransactionLoading=!1,e.posTransactionError=t.payload})),r)}),p=function(e){return e.basket},f=d.actions,O=f.addItem,T=(f.makeEmpty,f.redirectStep),E=f.setSelectedBkm,S=f.setInstallationNumber,b=f.postTransactionStatusResponseAction,_=f.postTransactionStatusResponseErrorAction,R=f.prepaidCardTransactionStatusResponseAction,h=f.prepaidCardTransactionStatusResponseErrorAction,j=f.setPostTransactionLoading,P=f.setState;function m(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/").concat(e.id,"/pos-transaction"));case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,t.next=9,n(b(o));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,n(_(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}function g(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/").concat(e.id,"/detail"));case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,t.next=9,n(R(o));case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=15,n(h(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}t.c=d.reducer},33:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return T}));var r,o=n(12),c=n.n(o),a=n(14),i=n(4),s=n(6),u=Object(s.b)("institution/QueryResult",(function(e){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/query"),{method:"POST",body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw Error(e.error);return e.json()})).then((function(e){return e}))})),l=Object(s.c)({name:"QueryResult",initialState:{loading:!1,queryResult:[],hasErrors:!1,redirect:!1,reRequest:!1,partialPaymentResult:[]},reducers:{setQueryResult:function(e){e.redirect=!1},setPartialPaymentResult:function(e,t){e.partialPaymentResult=t.payload}},extraReducers:(r={},Object(i.a)(r,u.pending,(function(e,t){e.loading=!0,e.queryResult=[],e.hasErrors=!1})),Object(i.a)(r,u.fulfilled,(function(e,t){e.queryResult=t.payload,""!==t.payload.errors||t.payload.hasOwnProperty("result"),e.hasErrors=!1,t.payload.hasOwnProperty("result")&&(null!==t.payload.result[0].items?(e.loading=!1,e.redirect=!0):(null!==t.payload.result[0].error&&""!==t.payload.result[0].error&&(e.loading=!1),e.reRequest=!0))})),Object(i.a)(r,u.rejected,(function(e,t){e.loading=!1,e.hasErrors=!0,e.queryResult=[]})),r)}),d=function(e){return e.QueryResult},p=l.actions,f=p.setQueryResult,O=p.setPartialPaymentResult;function T(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,o,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/query/").concat(e.token,"/info"),{method:"PUT",body:JSON.stringify({amount:e.amount})});case 3:return r=t.sent,t.next=6,r.json();case 6:(o=t.sent).success&&o.hasOwnProperty("result")&&((a=[]).push(o.result[0].token),n(E(a))),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}function E(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/query/info"),{method:"POST",body:JSON.stringify(e)});case 3:return r=t.sent,t.next=6,r.json();case 6:if(!(o=t.sent).success||!o.hasOwnProperty("result")){t.next=10;break}return t.next=10,n(O(o.result));case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}t.b=l.reducer},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(53);var r=n(3);function o(e){e.text;return Object(r.jsx)("div",{className:"mini-loaders",children:Object(r.jsx)("div",{className:"box-mini loader-time"})})}},37:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r,o=n(4),c=n(6),a=Object(c.b)("posRates/getPosRates",(function(){return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL_PATTERN,"/invoice/pos-rates"),{}).then((function(e){if(!e.ok)throw Error(e.error);return e.json()})).then((function(e){return e}))})),i=Object(c.c)({name:"posRates",initialState:{loading:!0,hasErrors:!1,posRates:{}},reducers:{},extraReducers:(r={},Object(o.a)(r,a.pending,(function(e){e.loading=!0})),Object(o.a)(r,a.fulfilled,(function(e,t){e.posRates=t.payload,e.loading=!1,e.hasErrors=!1})),Object(o.a)(r,a.rejected,(function(e){e.loading=!1,e.hasErrors=!0})),r)}),s=function(e){return e.posRates};t.a=i.reducer},52:function(e,t,n){},53:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return W})),n.d(t,"store",(function(){return w}));var r=n(0),o=n(20),c=n(6),a=n(13),i=n(9),s=n(16),u=n(33),l=n(32),d=n(37),p=n(17),f=Object(i.c)({categories:s.b,QueryResult:u.b,basket:l.c,posRates:d.a,profile:p.a}),O=function(e,t){if("RESET_ALL_STATE"===t.type){console.log("RESET_ALL_STATE");var n=e;e={categories:n.categories,profile:n.profile}}if("RESET_QUERY_RESULT_STATE"===t.type){console.log("RESET_QUERY_RESULT_STATE");var r=e;e={categories:r.categories,profile:r.profile,posRates:r.posRates,basket:r.basket}}if("RESET_BASKET_STATE"===t.type){console.log("RESET_BASKET_STATE");var o=e;e={categories:o.categories,profile:o.profile,posRates:o.posRates,QueryResult:o.QueryResult}}return f(e,t)},T=n(8),E=function(e){e&&e instanceof Function&&n.e(19).then(n.bind(null,270)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))},S=n(19),b=n(22),_=n(5),R=n(41),h=(n(51),n(52),n(34)),j=n(3),P=["children"];var m=function(e){var t=e.children,n=(Object(b.a)(e,P),Object(r.useRef)(!1),Object(a.b)()),o=Object(a.c)(s.a),c=o.categories,i=o.loading,u=o.hasErrors,l=Object(a.c)(p.c);return window.ipcRenderer.on("test",(function(e,t){console.log("test REsP ",t)})),Object(r.useEffect)((function(){console.log("Use Effect started....");var e=window.ipcRenderer.sendSync("make_me_login","");console.log({respVal:e}),0===c.length&&(console.log("categori alan\u0131nda"),window.ipcRenderer.on("is_auth",(function(e,t){console.log({message:t}),"success"===t&&(n(Object(p.b)()),n(Object(s.c)()))})))}),[]),console.log("LOAD\u0130NG",i),i?Object(j.jsx)(h.a,{}):u?(console.log("Bir hata olu\u015ftu...."),Object(j.jsx)("p",{children:"Bir Hata Olu\u015ftu "})):l.hasErrors?(console.log("profileResult.hasErrors"),Object(j.jsx)("p",{children:"Bir Hata Olu\u015ftu..."})):(console.log({children:t}),Object(j.jsx)(R.a,{timeout:9e4,ui:function(){return Object(j.jsx)(_.a,{to:"/dashboard"})},children:t}))},g=n(24),y=n(15),v=n(40),A=n.n(v),C=n(4),x=n(31),L=n.n(x),N=n(23),k=n.n(N),D=function(e){var t,n=e.spinning,r=void 0===n||n,o=e.fullScreen;return Object(j.jsx)("div",{className:L()(k.a.loader,(t={},Object(C.a)(t,k.a.hidden,!r),Object(C.a)(t,k.a.fullScreen,o),t))})},I=["component"],U=function(e){return A()({loader:e,delay:!1,loading:function(){return Object(j.jsx)(D,{})}})},H=[{path:"/dashboard",component:U((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(9)]).then(n.bind(null,271))}))},{path:"/greeting",component:U((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,272))}))},{path:"/categories",component:U((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,273))}))},{path:"/category/:id",component:U((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,274))}))},{path:"/institution/:id",component:U((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(17)]).then(n.bind(null,117))}))},{path:"/blankpage",component:U((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,82))}))},{path:"/queryresult",component:U((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,275))}))},{path:"/queryresultpartialpayment",component:U((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,276))}))},{path:"/paymenttypeselection",component:U((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,277))}))},{path:"/chooseinstallment",component:U((function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,278))}))},{path:"/paymentsummary",component:U((function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(2),n.e(18)]).then(n.bind(null,284))}))},{path:"/unavailable",component:U((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10)]).then(n.bind(null,279))}))}];var K=function(e){var t=e.history,n=Object(r.useState)(""),o=Object(y.a)(n,2),c=o[0],a=o[1],i=Object(r.useState)(!0),s=Object(y.a)(i,2),u=(s[0],s[1]);return Object(r.useLayoutEffect)((function(){u(navigator.onLine),window.ipcRenderer.on("card_channel",(function(e,t){a(t)}))}),[]),Object(r.useEffect)((function(){a(c)}),[c]),Object(j.jsxs)(_.d,{history:t,children:[Object(j.jsx)(_.b,{exact:!0,path:"/",render:function(){return Object(j.jsx)(_.a,{to:"/greeting"})}}),H.map((function(e,t){var n=e.component,r=Object(b.a)(e,I);return Object(j.jsx)(_.b,{path:r.path,component:r.component,render:function(e){return Object(j.jsx)(n,Object(g.a)(Object(g.a)({},e),{},{card:c,networkStatus:!0}))},exact:!0},r.path)}))]})},w=Object(c.a)({reducer:O}),W=Object(T.a)();Object(o.render)(Object(j.jsx)(a.a,{store:w,children:Object(j.jsx)(S.a,{children:Object(j.jsx)(m,{children:Object(j.jsx)(K,{history:W})})})}),document.getElementById("root")),E()}},[[56,4,6]]]);
//# sourceMappingURL=main.3bf7207c.chunk.js.map